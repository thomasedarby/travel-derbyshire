/* ===============================
   Feature Section (grid + overlay)
   Layout based on provided dims:
   - Section: 1110px x 591px (fits container)
   - Coloured block: 380px x 591px
   - Image: 480px wide (same height as block)
   =============================== */

.featured {
  /* centers the component within the page container */
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 2em; 
  padding: 24px 0; /* breathing space on small screens */
}

/* Inner grid: text on the left, visual on the right */
.feature__inner {
  width: min(100%, 1110px);
  min-height: 591px; /* match the design height */
  display: grid;
  grid-template-columns: 1fr 480px; /* text grows, visual fixed to image width */
  gap: clamp(16px, 4vw, 48px);
  align-items: center;
  justify-content: center;
}



/* --- Copy column --- */
.feature__copy {
  max-width: 56ch; /* nice readable width */
}

.feature__copy h2 {
  font-size: clamp(1.75rem, 2.5vw + 0.5rem, 3rem);
  line-height: 1.1;
  margin: 0 0 16px 0;
}

.feature__copy p {
  margin: 0 0 1em 0;
}

.feature__link {
  text-underline-offset: 3px;
}

/* --- Visual column: block + overlaid image --- */
.feature__visual {
  position: relative;
  width: 480px;   /* image width */
  height: 591px;  /* fixed height from design */
  isolation: isolate;
  display: grid;
  grid-template-areas: 'stack';
  align-items: center;
  justify-items: end;
}

/* Coloured block behind the image */
.feature__block {
  grid-area: stack;
  position: relative;
  width: 380px;
  height: 591px;
  background: var(--color-brand-teal);
  z-index: 0;
  transform: translateX(64px); /* peek out to the right while remaining vertically centered */
}

/* Foreground image overlapping the block */
.feature__image {
  grid-area: stack;
  position: relative;
  width: 480px;
  height: 591px;
  object-fit: cover;
  display: block;
  z-index: 1;
}



/* -----------------------------
   Responsive tweaks
   Stack the layout and relax heights on small screens
   ----------------------------- */
@media (max-width: 900px) {
  /* stack layout and name areas (visual then copy) */
  .feature__inner {
    grid-template-columns: 1fr;
    min-height: 0;
    grid-template-areas:
      "visual"
      "copy";
  }

  /* fluid sizing for visual wrapper */
  .feature__visual {
    /* maintain desktop aspect ratio 480 x 591 */
    --ar: calc(591 / 480);
    --w: clamp(300px, 92vw, 480px);            /* smooth scale 375â€“900px */
    --peek: clamp(16px, calc(var(--w) * 0.08), 64px);

    width: var(--w);
    height: calc(var(--w) * var(--ar));
    aspect-ratio: auto; /* override earlier aspect-ratio */
    justify-items: center;
    grid-area: visual;
  }

  /* image fills the wrapper */
  .feature__image {
    width: var(--w);
    height: calc(var(--w) * var(--ar));
    object-fit: cover;
  }

  /* teal block scales with the same height and proportional width (380/480) */
  .feature__block {
    width: calc(var(--w) * 0.7916667);       /* 380/480 */
    height: calc(var(--w) * var(--ar));
    transform: translateX(var(--peek));      /* peek to the right */
  }

  /* reverse variant: peek to the left */
  .featured--reverse .feature__block {
    transform: translateX(calc(var(--peek) * -1));
  }

  .feature__copy { grid-area: copy; }
}



/* --- Reverse variant: image+block on the left, text on the right --- */
.featured--reverse .feature__inner {
  grid-template-columns: 480px 1fr;        /* visual first, copy second */
  grid-template-areas: "visual copy";      /* explicit placement overrides DOM order */
}

.featured--reverse .feature__visual {
  grid-area: visual;                        /* place visual in col 1 */
  justify-items: start;                     /* align block+image to left edge */
}

.featured--reverse .feature__copy {
  grid-area: copy;                          /* place copy in col 2 */
}

/* make the teal block peek on the left when reversed */
.featured--reverse .feature__block {
  transform: translateX(-64px);
}

/* responsive: stack with visual first, then copy */
@media (max-width: 900px) {
  .featured--reverse .feature__inner {
    grid-template-columns: 1fr;
    grid-template-areas:
      "visual"
      "copy";
  }
}